<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Wallet - Dashboard Elite</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['Space Grotesk', 'monospace'],
                    },
                    colors: {
                        void: '#030305', // Fond ultra sombre
                        gold: {
                            400: '#FACC15',
                            500: '#EAB308',
                            600: '#CA8A04',
                            glow: 'rgba(250, 204, 21, 0.4)'
                        },
                        glass: {
                            border: 'rgba(255, 255, 255, 0.08)',
                            surface: 'rgba(20, 20, 25, 0.6)'
                        }
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards',
                        'pulse-slow': 'pulseSlow 4s infinite',
                        'spin-slow': 'spin 12s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(30px) scale(0.98)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)' },
                        },
                        pulseSlow: {
                            '0%, 100%': { boxShadow: '0 0 0 0 rgba(250, 204, 21, 0)' },
                            '50%': { boxShadow: '0 0 20px 0 rgba(250, 204, 21, 0.15)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #030305;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(250, 204, 21, 0.03) 0%, transparent 25%), 
                radial-gradient(circle at 85% 30%, rgba(16, 185, 129, 0.03) 0%, transparent 25%);
            color: #fff;
            overflow-x: hidden;
        }

        /* --- SPOTLIGHT EFFECT --- */
        .spotlight-card {
            background: rgba(20, 20, 25, 0.6);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }
        
        /* Lumière qui suit la souris */
        .spotlight-card::before {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255, 255, 255, 0.06), transparent 40%);
            opacity: 0;
            transition: opacity 0.5s;
            pointer-events: none;
            z-index: 1;
        }
        
        .spotlight-card:hover::before { opacity: 1; }
        .spotlight-card:hover { transform: translateY(-2px); border-color: rgba(250, 204, 21, 0.3); }

        /* --- CHART SVG ANIMATION --- */
        .chart-circle {
            transition: stroke-dasharray 1.5s ease-out;
            cursor: pointer;
        }
        .chart-circle:hover {
            filter: drop-shadow(0 0 8px currentColor);
            stroke-width: 14; /* Grossit au survol */
            z-index: 10;
        }

        /* --- TEXTE LIQUIDE --- */
        .text-liquid-gold {
            background: linear-gradient(to right, #FDE047, #EAB308, #FFF, #EAB308);
            background-size: 200% auto;
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            animation: shimmer 5s linear infinite;
        }
        @keyframes shimmer { 0% { background-position: 200% center; } 100% { background-position: -200% center; } }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #030305; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #FACC15; }
    </style>
</head>
<body class="flex h-screen selection:bg-gold-500 selection:text-black">

    <!-- SIDEBAR (Icon Only - Ultra Clean) -->
    <aside class="hidden md:flex w-24 flex-col items-center py-8 border-r border-white/5 bg-void/50 backdrop-blur-md z-50">
        <!-- Logo -->
        <div class="w-12 h-12 rounded-xl bg-gradient-to-br from-gold-400 to-amber-600 flex items-center justify-center shadow-lg shadow-gold-500/20 mb-12 animate-float">
            <i class="fa-solid fa-wallet text-black text-xl"></i>
        </div>

        <nav class="flex flex-col gap-8 w-full px-4 text-slate-500">
            <a href="#" class="group relative flex justify-center">
                <div class="absolute inset-0 bg-gold-500/20 blur-lg opacity-0 group-hover:opacity-100 transition duration-500"></div>
                <i class="fa-solid fa-grid-2 text-2xl text-gold-400 transition-transform group-hover:scale-110"></i>
            </a>
            <a href="#" class="group relative flex justify-center hover:text-white transition">
                <i class="fa-solid fa-money-bill-transfer text-2xl"></i>
            </a>
            <a href="#" class="group relative flex justify-center hover:text-white transition">
                <i class="fa-solid fa-credit-card text-2xl"></i>
            </a>
            <a href="#" class="group relative flex justify-center hover:text-white transition">
                <i class="fa-solid fa-chart-pie text-2xl"></i>
            </a>
        </nav>

        <div class="mt-auto">
            <div class="w-10 h-10 rounded-full border border-white/20 p-0.5 cursor-pointer hover:border-gold-400 transition">
                <img src="https://i.pravatar.cc/150?img=68" class="w-full h-full rounded-full object-cover grayscale hover:grayscale-0 transition duration-500">
            </div>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="flex-1 overflow-y-auto relative scroll-smooth">
        
        <!-- TOP HEADER -->
        <header class="sticky top-0 z-40 px-8 py-6 flex justify-between items-end bg-gradient-to-b from-void via-void/90 to-transparent backdrop-blur-sm">
            <div>
                <p class="text-slate-400 text-xs font-mono uppercase tracking-[0.2em] mb-1">Overview</p>
                <h1 class="text-3xl font-light text-white">Dashboard <span class="font-bold text-liquid-gold">Premium</span></h1>
            </div>
            <div class="flex gap-4">
                <button class="w-10 h-10 rounded-full border border-white/10 flex items-center justify-center text-white hover:bg-gold-500 hover:text-black hover:border-gold-500 transition duration-300">
                    <i class="fa-regular fa-bell"></i>
                </button>
                <button class="px-5 py-2 rounded-full border border-gold-500/30 bg-gold-500/10 text-gold-400 text-sm font-bold hover:bg-gold-500 hover:text-black transition duration-300">
                    <i class="fa-solid fa-plus mr-2"></i> Ajouter
                </button>
            </div>
        </header>

        <!-- DASHBOARD GRID (BENTO STYLE) -->
        <div class="px-8 pb-12 max-w-[1600px] mx-auto grid grid-cols-1 lg:grid-cols-4 gap-6">

            <!-- 1. SOLDE GLOBAL (Large Card) -->
            <div class="spotlight-card lg:col-span-2 rounded-3xl p-8 relative group animate-fade-in-up">
                <!-- Background Glow -->
                <div class="absolute right-0 top-0 w-64 h-64 bg-gold-500/10 blur-[80px] rounded-full"></div>
                
                <div class="relative z-10 flex justify-between items-start h-full flex-col">
                    <div class="w-full flex justify-between items-center mb-8">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-lg bg-white/5 border border-white/10 flex items-center justify-center">
                                <i class="fa-solid fa-vault text-gold-400"></i>
                            </div>
                            <span class="text-sm font-bold text-slate-300 uppercase tracking-wider">Solde Total</span>
                        </div>
                        <span class="bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                            <i class="fa-solid fa-arrow-trend-up"></i> +4.2%
                        </span>
                    </div>

                    <!-- Counter -->
                    <div>
                        <div class="text-5xl lg:text-6xl font-mono font-bold text-white tracking-tighter mb-2">
                            <span class="counter" data-target="124500">0</span><span class="text-slate-600 text-3xl">.00</span> <span class="text-gold-400 text-2xl align-top">DH</span>
                        </div>
                        <p class="text-slate-500 text-sm">Disponible sur l'ensemble de vos comptes.</p>
                    </div>

                    <!-- Mini Sparkline (Decorative) -->
                    <div class="w-full h-1 bg-white/5 mt-8 rounded-full overflow-hidden">
                        <div class="h-full bg-gradient-to-r from-gold-600 to-gold-300 w-[70%] relative">
                            <div class="absolute right-0 top-0 bottom-0 w-2 bg-white blur-[2px]"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 2. REVENUS (Small Card) -->
            <div class="spotlight-card rounded-3xl p-6 flex flex-col justify-between animate-fade-in-up" style="animation-delay: 0.1s;">
                <div class="flex justify-between items-start">
                    <div class="p-3 bg-emerald-500/10 rounded-xl border border-emerald-500/20 text-emerald-400">
                        <i class="fa-solid fa-arrow-down text-xl"></i>
                    </div>
                    <!-- Mini Graph SVG -->
                    <svg class="w-16 h-8 stroke-emerald-500 fill-none" viewBox="0 0 50 20"><path d="M0 15 Q 10 20, 25 5 T 50 0" stroke-width="2"></path></svg>
                </div>
                <div>
                    <p class="text-slate-400 text-xs font-bold uppercase mb-1">Revenus (Mois)</p>
                    <h3 class="text-3xl font-mono text-white font-bold">+ <span class="counter" data-target="45200">0</span></h3>
                </div>
            </div>

            <!-- 3. DÉPENSES (Small Card) -->
            <div class="spotlight-card rounded-3xl p-6 flex flex-col justify-between animate-fade-in-up" style="animation-delay: 0.2s;">
                <div class="flex justify-between items-start">
                    <div class="p-3 bg-red-500/10 rounded-xl border border-red-500/20 text-red-400">
                        <i class="fa-solid fa-arrow-up text-xl rotate-45"></i>
                    </div>
                    <!-- Mini Graph SVG -->
                    <svg class="w-16 h-8 stroke-red-500 fill-none" viewBox="0 0 50 20"><path d="M0 15 Q 10 5, 25 15 T 50 5" stroke-width="2"></path></svg>
                </div>
                <div>
                    <p class="text-slate-400 text-xs font-bold uppercase mb-1">Dépenses (Mois)</p>
                    <h3 class="text-3xl font-mono text-white font-bold">- <span class="counter" data-target="18340">0</span></h3>
                </div>
            </div>

            <!-- 4. GRAPHIQUE CIRCULAIRE & CATÉGORIES (Wide Card) -->
            <div class="spotlight-card lg:col-span-3 rounded-3xl p-8 flex flex-col lg:flex-row gap-10 items-center animate-fade-in-up" style="animation-delay: 0.3s;">
                
                <!-- Left: Interactive JS Chart -->
                <div class="relative w-64 h-64 flex-shrink-0 group">
                    <!-- SVG Chart généré ici -->
                    <svg id="donutChart" viewBox="0 0 100 100" class="transform -rotate-90 w-full h-full drop-shadow-2xl">
                        <circle cx="50" cy="50" r="40" fill="none" stroke="#1f2937" stroke-width="8"></circle>
                        <!-- Segments injectés par JS -->
                    </svg>
                    
                    <!-- Center Info -->
                    <div class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                        <span class="text-slate-500 text-xs font-bold uppercase tracking-widest">Top Dépense</span>
                        <span class="text-2xl font-bold text-white mt-1" id="centerText">Logement</span>
                        <span class="text-sm font-mono text-gold-400" id="centerValue">45%</span>
                    </div>
                </div>

                <!-- Right: Categories List (Interactive) -->
                <div class="flex-1 w-full space-y-3">
                    <h3 class="text-lg font-bold text-white mb-4">Analyse par catégorie</h3>
                    
                    <!-- Items -->
                    <div class="flex items-center justify-between p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/10 transition cursor-pointer" onmouseover="highlightSegment(0)" onmouseout="resetSegments()">
                        <div class="flex items-center gap-4">
                            <div class="w-2 h-10 rounded-full bg-gold-500 shadow-[0_0_10px_#EAB308]"></div>
                            <div>
                                <p class="font-bold text-white">Logement</p>
                                <p class="text-xs text-slate-500">8 transactions</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-mono font-bold text-white">8,500 DH</p>
                            <p class="text-xs text-gold-400">45%</p>
                        </div>
                    </div>

                    <div class="flex items-center justify-between p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/10 transition cursor-pointer" onmouseover="highlightSegment(1)" onmouseout="resetSegments()">
                        <div class="flex items-center gap-4">
                            <div class="w-2 h-10 rounded-full bg-emerald-500 shadow-[0_0_10px_#10B981]"></div>
                            <div>
                                <p class="font-bold text-white">Nourriture</p>
                                <p class="text-xs text-slate-500">24 transactions</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-mono font-bold text-white">4,200 DH</p>
                            <p class="text-xs text-emerald-400">25%</p>
                        </div>
                    </div>

                    <div class="flex items-center justify-between p-3 rounded-xl hover:bg-white/5 border border-transparent hover:border-white/10 transition cursor-pointer" onmouseover="highlightSegment(2)" onmouseout="resetSegments()">
                        <div class="flex items-center gap-4">
                            <div class="w-2 h-10 rounded-full bg-blue-500 shadow-[0_0_10px_#3B82F6]"></div>
                            <div>
                                <p class="font-bold text-white">Loisirs & Tech</p>
                                <p class="text-xs text-slate-500">5 transactions</p>
                            </div>
                        </div>
                        <div class="text-right">
                            <p class="font-mono font-bold text-white">5,640 DH</p>
                            <p class="text-xs text-blue-400">30%</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 5. TOP EXPENSIVE (List) -->
            <div class="spotlight-card rounded-3xl p-6 animate-fade-in-up" style="animation-delay: 0.4s;">
                <h3 class="text-lg font-bold text-white mb-6">Les plus coûteux</h3>
                <div class="space-y-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-void rounded-lg border border-white/10 flex items-center justify-center text-white">
                                <i class="fa-brands fa-apple text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-white">MacBook Pro</p>
                                <p class="text-[10px] text-slate-500 uppercase">Tech Store</p>
                            </div>
                        </div>
                        <span class="font-mono text-red-400 font-bold">-24,000</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-void rounded-lg border border-white/10 flex items-center justify-center text-white">
                                <i class="fa-solid fa-plane text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-white">Vol Dubaï</p>
                                <p class="text-[10px] text-slate-500 uppercase">Emirates</p>
                            </div>
                        </div>
                        <span class="font-mono text-red-400 font-bold">-8,500</span>
                    </div>
                    <div class="flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 bg-void rounded-lg border border-white/10 flex items-center justify-center text-white">
                                <i class="fa-solid fa-gem text-xl"></i>
                            </div>
                            <div>
                                <p class="text-sm font-bold text-white">Montre Luxe</p>
                                <p class="text-[10px] text-slate-500 uppercase">Rolex</p>
                            </div>
                        </div>
                        <span class="font-mono text-red-400 font-bold">-65,000</span>
                    </div>
                </div>
            </div>

        </div>
    </main>

    <!-- JS: LOGIQUE NATIVE -->
    <script>
        // 1. SPOTLIGHT EFFECT (Lumière souris)
        document.addEventListener('mousemove', e => {
            document.querySelectorAll('.spotlight-card').forEach(card => {
                const rect = card.getBoundingClientRect();
                card.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);
                card.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);
            });
        });

        // 2. ROLLING COUNTERS
        document.querySelectorAll('.counter').forEach(counter => {
            const target = +counter.getAttribute('data-target');
            const duration = 2000; 
            const stepTime = 16;
            const steps = duration / stepTime;
            const inc = target / steps;
            let current = 0;
            const timer = setInterval(() => {
                current += inc;
                if(current >= target) {
                    counter.innerText = target.toLocaleString('en-US');
                    clearInterval(timer);
                } else {
                    counter.innerText = Math.ceil(current).toLocaleString('en-US');
                }
            }, stepTime);
        });

        // 3. CHART GENERATOR (SVG NATIVE)
        const chartData = [
            { label: 'Logement', percent: 45, color: '#EAB308' },
            { label: 'Nourriture', percent: 25, color: '#10B981' },
            { label: 'Loisirs', percent: 30, color: '#3B82F6' }
        ];

        const svg = document.getElementById('donutChart');
        let cumulativePercent = 0;

        chartData.forEach((item, index) => {
            const circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            const radius = 40;
            const circumference = 2 * Math.PI * radius;
            const strokeDasharray = `${(item.percent * circumference) / 100} ${circumference}`;
            const offset = (cumulativePercent * circumference) / 100;

            circle.setAttribute('cx', 50);
            circle.setAttribute('cy', 50);
            circle.setAttribute('r', radius);
            circle.setAttribute('fill', 'transparent');
            circle.setAttribute('stroke', item.color);
            circle.setAttribute('stroke-width', 8); // Base width
            circle.setAttribute('stroke-dasharray', strokeDasharray);
            circle.setAttribute('stroke-dashoffset', -offset);
            circle.setAttribute('class', 'chart-circle');
            circle.setAttribute('id', `segment-${index}`);
            
            // Animation d'entrée
            circle.style.strokeDasharray = `0 ${circumference}`;
            setTimeout(() => {
                circle.style.strokeDasharray = strokeDasharray;
            }, 100 * index); // Décalage pour effet cascade

            svg.appendChild(circle);
            cumulativePercent += item.percent;
        });

        // 4. CHART INTERACTION (Hover list -> Highlight segment)
        function highlightSegment(index) {
            const segments = document.querySelectorAll('.chart-circle');
            segments.forEach((seg, i) => {
                if(i === index) {
                    seg.setAttribute('stroke-width', 12); // Grossit
                    seg.style.opacity = '1';
                    // Update Text Center
                    document.getElementById('centerText').innerText = chartData[i].label;
                    document.getElementById('centerText').style.color = chartData[i].color;
                    document.getElementById('centerValue').innerText = chartData[i].percent + '%';
                } else {
                    seg.style.opacity = '0.3'; // Dim other
                }
            });
        }

        function resetSegments() {
            document.querySelectorAll('.chart-circle').forEach(seg => {
                seg.setAttribute('stroke-width', 8);
                seg.style.opacity = '1';
            });
            document.getElementById('centerText').innerText = "Total";
            document.getElementById('centerText').style.color = "white";
            document.getElementById('centerValue').innerText = "100%";
        }
    </script>
</body>
</html>